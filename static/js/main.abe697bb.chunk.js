(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a(252)},114:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(106),s=(a(114),a(3)),c=a.n(s),l=a(4),o=a(1),i=a(254),m=a(253),u=n.createContext({signInStatus:{username:"",isSignIn:!1,userId:""},signInDispatch:function(){}}),d=n.createContext({update:!1,updateDispatch:function(){}}),p=n.createContext({modalStatus:{status:!1,modal:""},modalDispatch:function(){}}),f=function(e){return{type:"hide",text:e}},b=(a(28),function(e){var t=n.useContext(p),a=(t.modalStatus,t.modalDispatch);return n.createElement("button",{type:"button",className:"btn btn-sm btn-primary px-1",onClick:function(){a({type:"show",text:e.target})}},e.children)});function g(e,t){return{type:"signIn",text:e,id:t}}var h={type:"signOut",text:"",id:""},E="http://ec2-3-89-33-101.compute-1.amazonaws.com",v=function(){var e=n.useContext(u),t=e.signInStatus,a=e.signInDispatch,r=function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/user"),{method:"post",body:JSON.stringify({action:"signOut"}),headers:{"Content-Type":"application/json"},credentials:"include"});case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return n.createElement("div",{style:{maxWidth:"240px"},className:"col-6 col-md-4 col-lg-4 btn-group px-1"},n.createElement("button",{className:"btn btn-sm btn-info p-1"},t.username),n.createElement("button",{className:"btn btn-sm btn-info p-1",onClick:function(){r(),a(h)}},"SignOut"))},N=function(){var e=n.useContext(u).signInStatus;return n.createElement("nav",{className:"fixed-top bg-dark navbar-expand-sm navbar-dark"},n.createElement("div",{className:"header-container navbar flex-sm-row-reverse"},n.createElement("div",{className:"d-sm-none"},n.createElement(b,{target:e.isSignIn?"postATask":"signIn"},"Post A Task")),n.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},n.createElement("span",{className:"navbar-toggler-icon"})),n.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},n.createElement("ul",{className:"navbar-nav justify-content-between"},n.createElement("div",{className:"nav-item nav-link ","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},n.createElement(m.a,{activeClassName:"nav-link-active",className:"text-white text-decoration-none",to:"/tasks"},"Browse Tasks")),n.createElement("div",{className:"nav-item nav-link","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},e.isSignIn&&n.createElement(m.a,{activeClassName:"nav-link-active",className:"text-white text-decoration-none",to:"/mytasks"},"MyTasks")),n.createElement("div",{className:"d-none d-sm-block nav-item nav-link"},n.createElement(b,{target:"postATask"},"Post A Task")),n.createElement("div",{className:"nav-item nav-link","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},e.isSignIn?n.createElement(v,null):n.createElement("div",{style:{maxWidth:"240px"},className:"mx-auto btn-group px-1"},n.createElement(b,{target:"signIn"},"Sign In"),n.createElement(b,{target:"signUp"},"Sign Up")))))))},x=(a(120),function(){return n.createElement("div",{className:""},n.createElement(N,null))}),w=a(256),k=a(107),y=a(32),j=a(11),O=a.n(j),S=function(e){return n.createElement("div",{className:"mt-1"},n.createElement("span",{className:"font-weight-bold"},e.children),n.createElement("span",{className:""},e.content))},C={type:"start"},I={type:"end"},T=function(e){var t=e.message,a=e.clear,r=e.confirm;return n.createElement("div",{className:"alert-container rounded shadow text-center"},n.createElement("div",{className:"alert-content bg-light d-flex flex-column justify-content-around "},n.createElement("div",{className:"p-2 small rounded mx-auto text-danger font-weight-bold"},t),n.createElement("div",{className:"d-flex justify-content-between p-2"},n.createElement("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){r()}},"ok"),n.createElement("button",{className:"btn btn-danger btn-sm",type:"button",onClick:function(){a()}},"clear"))))},D=function(e){var t=n.useContext(d),a=(t.update,t.updateDispatch),r=e.url,s=e.input,i=e.click,m=e.title,u=e.cancel,p=n.useState({status:!1,message:""}),f=Object(o.a)(p,2),b=f[0],g=f[1],h=function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r,s).then(function(e){return e.json()});case 2:t=e.sent,g({status:!0,message:t.message});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),E=function(){i(),g({status:!1,message:""}),a(C)};return n.createElement("div",{className:"modal-container"},n.createElement("div",{className:"confirm-container bg-warning text-center"},n.createElement("h3",null,m,"?"),n.createElement("div",{className:"d-flex justify-content-around mt-auto"},n.createElement("button",{className:"btn btn-primary",onClick:h},"Confirm"),n.createElement("button",{className:"btn btn-danger",onClick:function(){u()}},"Cancel")),b.status&&n.createElement(T,{message:b.message,confirm:E,clear:E})))},M=function(e){var t,a=n.useContext(u).signInStatus,r=n.useState(!1),s=Object(o.a)(r,2),c=s[0],l=s[1],i=n.useState(!1),m=Object(o.a)(i,2),d=m[0],p=m[1],f={method:"put",body:JSON.stringify({tasker:a.username,taskerId:a.userId,status:"ASSIGNED"}),headers:{"Content-Type":"application/json"},credentials:"include"};switch(e.status){case"COMPLETED":t="dark";break;case"ASSIGNED":t="warning";break;case"DONE":t="danger";break;default:t="success"}return n.createElement(n.Fragment,null,n.createElement("div",{className:"task-list-item bg-white m-1 p-1 row",key:e._id},n.createElement("div",{className:"col-12 d-flex align-items-center border-bottom border-muted px-0 py-1 mb-1"},n.createElement("div",{className:"d-none d-lg-block btn btn-sm btn-".concat(t," text-white ")},e.status),n.createElement("div",{className:" text-center font-weight-bold ml-2"},"Buy ",e.what)),n.createElement("div",{className:"col-6 col-lg-4 pl-2 d-flex flex-column justify-content-around "},n.createElement("div",{className:"border-bottom border-muted small"},n.createElement("div",{className:"font-weight-bold"},"Location \u26ea"),n.createElement("div",null,e.where)),n.createElement("div",{className:"border-bottom border-muted small"},n.createElement("div",{className:"font-weight-bold"},"Due Time \ud83d\udd67"),n.createElement("div",null,O()(e.when).format("MMMM Do YYYY, h:mm:ss a")))),n.createElement("div",{className:"col-6 col-lg-3 py-1 bg-white text-center d-flex flex-column justify-content-center"},n.createElement("div",null,n.createElement("h6",{className:"py-1"},"Task Budget"),n.createElement("div",{className:"h2"},"$",e.price)),n.createElement("div",{className:""},a.isSignIn?n.createElement("button",{className:"btn btn-success btn-sm",disabled:"OPEN"!==e.status||e.poster===a.username,onClick:function(){p(!0)}},"Take the Task"):n.createElement(b,{target:"signIn"},"Take the Task"))),n.createElement("div",{className:"d-lg-none d-block small w-100 d-flex justify-content-between "},n.createElement("div",{className:"btn btn-sm  btn-".concat(t," text-white ")},e.status),n.createElement("button",{className:"btn btn-sm btn-info ",type:"button",onClick:function(e){e.preventDefault(),l(function(e){return!e})}},"Details")),n.createElement("div",{className:"".concat(!c&&"d-none"," d-lg-block col-12 col-lg-5 small row")},n.createElement("div",{className:"col-12 col-sm-6 col-lg-12 p-0 small"},n.createElement(S,{content:e.poster},"Posted By"),n.createElement(S,{content:O()(e.postedTime).format("MMMM Do YYYY, h:mm:ss a")},"Posted Time")),n.createElement("div",{className:"col-12 col-sm-6 col-lg-12 p-0 small"},n.createElement(S,{content:e.tasker},"Assigned To"),n.createElement(S,{content:e.assignedTime&&O()(e.assignedTime).format("MMMM Do YYYY, h:mm:ss a")},"Assigned Time")))),d&&n.createElement(D,{url:"http://localhost:5000/task/".concat(e._id),input:f,title:"take the task",click:function(){p(!1)},cancel:function(){p(!1)}}))},P=function(e){var t=e.initTasks&&e.initTasks.map(function(e){return n.createElement(M,Object.assign({key:e._id},e))});return n.createElement(n.Fragment,null,t)},Y=(a(121),function(){return n.createElement("div",{className:"d-flex justify-content-center"},n.createElement("div",{className:"spinner-border",role:"status"},n.createElement("span",{className:"sr-only"},"Loading...")))}),A=function(){var e=n.useState(),t=Object(o.a)(e,2),a=t[0],r=t[1],s=n.useState({status:!1,message:""}),i=Object(o.a)(s,2),m=i[0],u=i[1],p=n.useState(),f=Object(o.a)(p,2),b=f[0],g=f[1],h=n.useState(),v=Object(o.a)(h,2),N=v[0],x=v[1],w=n.useState(),k=Object(o.a)(w,2),j=k[0],O=k[1],S=n.useState(0),T=Object(o.a)(S,2),D=(T[0],T[1]),M=n.useState(!1),A=Object(o.a)(M,2),W=A[0],F=A[1],L=n.useState(!1),B=Object(o.a)(L,2),_=B[0],J=B[1],z=n.useState(0),U=Object(o.a)(z,2),q=U[0],R=U[1],G=n.useState(!1),H=Object(o.a)(G,2),$=H[0],K=H[1],V=n.useState([]),Q=Object(o.a)(V,2),X=Q[0],Z=Q[1],ee=n.useState(0),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=n.useState(!1),se=Object(o.a)(re,2),ce=se[0],le=se[1],oe=n.useState(""),ie=Object(o.a)(oe,2),me=(ie[0],ie[1],n.useContext(d)),ue=me.update,de=me.updateDispatch,pe="";ce&&(pe="&status=OPEN&");var fe=function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r([]),J(!0),F(!1),e.next=5,fetch("".concat(E,"/tasks?pageSize=4").concat(pe),{method:"get"});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,t.ok?(r(a.data.tasks),u({status:t.ok,message:a.message}),x(a.data.meta.searchAfterId),O(a.data.meta.searchBeforeId),g(a.data.meta.hasNext),D(a.data.length),F(!0),J(!1)):(F(!0),J(!1),u({status:t.ok,message:a.message}));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();n.useEffect(function(){ue&&de(I),fe()},[ue]);var be=function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("".concat(E,"/tasks?searchAfterId=").concat(t).concat(pe),{method:"get"});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,a.ok&&(Z(n.data.tasks.concat(X)),ne(function(e){return e+n.data.meta.total}),x(n.data.meta.searchAfterId));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();n.useEffect(function(){var e=setInterval(function(){be(N)},1e4);return function(){clearInterval(e)}});var ge=function(){var e=Object(l.a)(c.a.mark(function e(t){var n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.next=3,fetch("".concat(E,"/tasks?pageSize=2&searchBeforeId=").concat(t).concat(pe),{method:"get"});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,n.ok?(O(s.data.meta.searchBeforeId),D(a.length),setTimeout(function(){r([].concat(Object(y.a)(a),Object(y.a)(s.data.tasks))),g(s.data.meta.hasNext),K(!1)},1e3)):(g(!1),K(!1));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),he=document.getElementsByClassName("task-item-container")[0],Ee=function(){R(he.scrollTop),$||he.scrollTop+he.clientHeight>he.scrollHeight-1&&b&&ge(j)};n.useEffect(function(){return document.getElementsByClassName("task-item-container")[0].addEventListener("scroll",Ee),function(){document.getElementsByClassName("task-item-container")[0].removeEventListener("scroll",Ee)}});return n.createElement(n.Fragment,null,n.createElement("div",{className:"custom-control custom-checkbox d-flex align-items-center text-center justify-content-around"},n.createElement("input",{type:"checkbox",checked:ce,onChange:function(){le(function(e){return!e}),de(C)},className:"custom-control-input",id:"customCheck1"}),n.createElement("label",{className:"custom-control-label ",htmlFor:"customCheck1"},"Show OPEN Only")),ae>0&&n.createElement("button",{className:"alert alert-info tasks-new",onClick:function(){r([].concat(Object(y.a)(X),Object(y.a)(a))),ne(0),Z([]),D(a.length)}},ae," NEW TASKS"),n.createElement("div",{className:"task-item-container",id:"task-item-container"},q>0&&n.createElement("button",{className:"btn btn-sm btn-primary tasks-top",onClick:function(){he.scrollTop=0,R(0)}},"Top"),_&&!W&&n.createElement(Y,null),m.status&&n.createElement(P,{initTasks:a}),W&&n.createElement("div",{className:"tasks-loading border rounded shadow-sm bg-white font-weight-bold text-center mx-2 h6"},b?n.createElement(Y,null):n.createElement("div",null,"no more tasks"))))},W=a(63),F=function(e){return n.createElement("div",{className:"bg-light px-2",key:e._id},n.createElement("span",{className:"small text-left"},"Task_Id: ",n.createElement(W.a,{to:"/task/".concat(e._id),className:"ml-2"},e._id)),n.createElement("div",{className:"d-flex justify-content-start align-items-center"},n.createElement("div",{className:"ml-2 font-weight-bold",style:{fontSize:"18px"}},"Buy ",e.what)),n.createElement("div",{className:"small text-dark d-block d-sm-flex justify-content-between align-items-center"},n.createElement("div",{className:"text-right small font-weight-bold"},"Locaton: ",e.where),n.createElement("div",{className:"text-left font-weight-bold small"},"Due at: ",O()(e.when).format("MMMM Do YYYY, h:mm:ss a"))))},L=function(e){var t,a,r;switch(e.status){case"OPEN":t="CANCEL",a="delete",r="bg-success";break;case"ASSIGNED":t="DONE",a="put",r="bg-warning";break;case"DONE":t="COMPLETED",a="put",r="bg-danger";break;case"COMPLETED":t="REVIEW",r="bg-dark"}var s=n.useContext(u).signInStatus,i={method:a,body:JSON.stringify({status:t,userId:s.userId}),headers:{"Content-Type":"application/json"}},m=n.useState(!1),d=Object(o.a)(m,2),p=d[0],f=d[1],b=n.useState(!1),g=Object(o.a)(b,2),h=g[0],E=g[1],v=function(){var t=Object(l.a)(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/review",{body:JSON.stringify({taskId:e._id}),method:"post",headers:{"Content-Type":"application/json"}});case 2:return a=t.sent,t.next=5,a.json();case 5:a.ok&&E(!0);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return n.createElement("div",{className:"d-flex justify-content-between px-2"},n.createElement("div",{className:"".concat(r," btn btn-sm text-white font-weight-bold")},e.status),n.createElement("div",{className:""},"OPEN"===e.status&&n.createElement("button",{className:"".concat(r," btn btn-sm text-white font-weight-bold"),onClick:function(){f(!0)}},t),"ASSIGNED"===e.status&&"tasker"===e.role&&n.createElement("button",{className:"".concat(r," btn btn-sm text-white font-weight-bold"),onClick:function(){f(!0)}},t),"DONE"===e.status&&"poster"===e.role&&n.createElement("button",{className:"".concat(r," btn btn-sm text-white font-weight-bold"),onClick:function(){f(!0)}},t),"COMPLETED"===e.status&&n.createElement("button",{className:"".concat(r," btn btn-sm text-white font-weight-bold"),onClick:v},t)),h&&n.createElement("div",{className:"modal-container small"},n.createElement("div",{className:"confirm-container d-flex flex-column justify-content-around bg-white text-center py-2"},n.createElement("h4",null,"Go to TaskDetail to Review"),n.createElement("div",{className:"d-flex justify-content-around"},n.createElement(W.a,{className:"btn btn-primary btn-sm text-center text-white text-decoration-none",to:"/task/".concat(e._id)},"Go"),n.createElement("button",{className:"btn btn-danger btn-sm text-center text-white",onClick:function(){E(!1)}},"Cancel")))),p&&n.createElement(D,{url:"http://localhost:5000/task/".concat(e._id),input:i,title:"".concat(t," the task"),click:function(){f(!1)},cancel:function(){f(!1)}}))},B=function(e){var t=e.data&&e.data.map(function(t){return n.createElement("div",{className:"py-1 mt-1  mytask-list-item  bg-light border ",key:t._id},n.createElement(F,t),n.createElement(L,{_id:t._id,status:t.status,role:e.role}))});return n.createElement(n.Fragment,null,t)},_=function(e){var t=function(){e.click(parseInt(e.currentPage)+1)},a=function(){e.click(parseInt(e.currentPage)-1)};return n.createElement("nav",null,n.createElement("ul",{className:"pagination"},n.createElement("li",{className:"page-item"},n.createElement("button",{disabled:!e.hasPrev,className:"page-link",onClick:function(e){e.preventDefault(),a()}},n.createElement("span",null,"\xab"))),e.hasPrev&&n.createElement("li",{className:"page-item"},n.createElement("button",{disabled:!e.hasPrev,className:"page-link",onClick:function(e){e.preventDefault(),a()}},parseInt(e.currentPage)-1)),n.createElement("li",{className:"page-item active"},n.createElement("button",{disabled:!0,className:"page-link"},e.currentPage)),e.hasNext&&n.createElement("li",{className:"page-item"},n.createElement("button",{disabled:!e.hasNext,className:"page-link",onClick:function(e){e.preventDefault(),t()}},parseInt(e.currentPage)+1)),n.createElement("li",{className:"page-item"},n.createElement("button",{disabled:!e.hasNext,className:"page-link",onClick:function(e){e.preventDefault(),t()}},"\xbb"))))},J=(a(122),{currentPage:"1",pageSize:4,total:0,hasNext:!1,hasPrev:!1}),z=function(){var e=n.useState(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],s=n.useState(!1),i=Object(o.a)(s,2),m=i[0],u=i[1],p=n.useState(),f=Object(o.a)(p,2),b=f[0],g=f[1],h=n.useState({status:!1,message:""}),v=Object(o.a)(h,2),N=v[0],x=v[1],w=n.useState(J),k=Object(o.a)(w,2),y=k[0],j=k[1],O=n.useState(1),S=Object(o.a)(O,2),C=S[0],T=S[1],D=n.useState(4),M=Object(o.a)(D,2),P=M[0],A=(M[1],n.useState("poster")),W=Object(o.a)(A,2),F=W[0],L=W[1],z=n.useState("ALL"),U=Object(o.a)(z,2),q=U[0],R=U[1],G=n.useContext(d),H=G.update,$=G.updateDispatch,K=function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return H&&$(I),r(!1),u(!0),e.next=5,fetch("".concat(E,"/profile?role=").concat(F,"&status=").concat(q,"&page=").concat(C,"&pageSize=").concat(P),{method:"get",credentials:"include"});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,t.ok?(g(a.data.tasks),j(a.data.pagination),x({status:t.ok,message:a.message}),r(!0),u(!1)):(r(!0),u(!1),x({status:t.ok,message:a.message}));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();n.useEffect(function(){K()},[q,F,C,H]);var V=function(){x({status:!1,message:""}),T(1)};return n.createElement("div",{className:"task-item-container"},n.createElement("nav",{className:"d-flex justify-content-around align-items-center"},n.createElement("ul",{className:"nav nav-pills bg-light py-2",id:"myTab",role:"tablist"},n.createElement("li",{className:"nav-item"},n.createElement("a",{className:"nav-link active",id:"poster-tab","data-toggle":"tab",href:"#poster",role:"tab","aria-controls":"poster","aria-selected":"true",onClick:function(e){e.preventDefault(),V(),L("poster")}},"Poster")),n.createElement("li",{className:"nav-item"},n.createElement("a",{className:"nav-link",id:"tasker-tab","data-toggle":"tab",href:"#tasker",role:"tab","aria-controls":"tasker","aria-selected":"false",onClick:function(e){e.preventDefault(),V(),L("tasker")}},"Tasker"))),n.createElement("select",{className:"w-50 form-control form-control-sm ",value:q,onChange:function(e){V(),R(e.target.value)}},n.createElement("option",{value:"ALL"},"All Tasks"),n.createElement("option",{value:"PENDING"},"Pending Tasks"),n.createElement("option",{value:"COMPLETED"},"Completed Tasks"))),n.createElement(_,Object.assign({},y,{click:function(e){T(e)}})),m&&!a&&n.createElement(Y,null),!m&&a&&N.status&&n.createElement(B,{data:b,role:F}),!m&&a&&!N.status&&n.createElement("div",null,"not any tasks yet"))},U=function(e){var t=n.useState(!1),a=Object(o.a)(t,2),r=(a[0],a[1],n.useState()),s=Object(o.a)(r,2),i=s[0],m=s[1],u=n.useState(),d=Object(o.a)(u,2),p=d[0],f=d[1],b=n.useState(!1),g=Object(o.a)(b,2),h=(g[0],g[1]),v=n.useState(!1),N=Object(o.a)(v,2),x=N[0],w=N[1],k=function(){var t=Object(l.a)(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),w(!1),t.next=4,fetch("".concat(E,"/task/").concat(e.match.params.id),{method:"get"});case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,m(n.data),f(a.ok),w(!0),h(!1);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return n.useEffect(function(){k()},[]),n.createElement(n.Fragment,null,x&&p&&n.createElement("div",{className:"task-item-container bg-white mx-auto p-2"},n.createElement("div",{className:"alert bg-info text-white text-center"},i.status),n.createElement("div",{className:"h4 text-center text-info font-weight-normal"},i.what),n.createElement("div",{className:"d-md-flex"},n.createElement("div",{className:"border border-muted rounded  mx-auto small p-1 m-2"},n.createElement(S,{content:i.price},"$ Price "),n.createElement(S,{content:""},"Location"),n.createElement(S,{content:i.where},"\u26ea "),n.createElement(S,{content:""}," Due"),n.createElement(S,{content:O()(i.when).format("MMMM Do YYYY, h:mm:ss a")},"\ud83d\udd67"),n.createElement(S,{content:""},"Completed Time "),n.createElement(S,{content:i.completedTime&&O()(i.completedTime).format("MMMM Do YYYY, h:mm:ss a")},"\ud83d\udd67 ")),n.createElement("div",{className:"mx-auto small border border-muted rounded p-1 m-2"},n.createElement(S,{content:""},"Posted By"),n.createElement("a",{href:""},n.createElement(S,{content:i.poster})),n.createElement(S,{content:""},"Posted Time"),n.createElement(S,{content:O()(i.postedTime).format("MMMM Do YYYY, h:mm:ss a")})),n.createElement("div",{className:"mx-auto small border border-muted rounded p-1 m-2"},n.createElement(S,{content:i.tasker},"Assigned To"),n.createElement("a",{href:""},n.createElement(S,{content:i.tasker})),n.createElement(S,{content:""},"Assigned Time "),n.createElement(S,{content:O()(i.assignedTime).format("MMMM Do YYYY, h:mm:ss a")}))),i.review&&n.createElement("div",null)))},q=a(108),R=a(255),G=function(e){var t=e.component,a=Object(q.a)(e,["component"]),r=n.useContext(u).signInStatus;return n.createElement(k.a,Object.assign({},a,{render:function(e){return r.isSignIn?n.createElement(t,e):n.createElement(R.a,{to:{pathname:"/app",state:{from:e.location}}})}}))},H=a(10),$=a(7);function K(e){var t=n.useState(e),a=Object(o.a)(t,2),r=a[0],s=a[1],i=function(){var e=Object(l.a)(c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,Object(H.a)({method:"post",credentials:"include",headers:{"Content-Type":"application/json"}},a));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,s(Object(H.a)({},r,{status:!0}));case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}();return[r,function(){s(e)},function(){var e=Object(l.a)(c.a.mark(function e(t,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,a);case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()]}var V=a(46);var Q=function(e){var t=n.useState(e),a=Object(o.a)(t,2),r=a[0],s=a[1];return[r,function(e){var t=e.target.name,a=e.target.value,n=Object(V.a)({},t,a);s(function(e){return Object(H.a)({},e,n)})},s]};function X(e,t){var a=n.useState({error:!1,message:""}),r=Object(o.a)(a,2),s=r[0],i=r[1];return[s,function(){var a=Object(l.a)(c.a.mark(function a(){var n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.validate(e);case 3:return n=a.sent,a.abrupt("return",n);case 7:return a.prev=7,a.t0=a.catch(0),i({error:!0,message:a.t0.errors}),a.abrupt("return",!1);case 11:case"end":return a.stop()}},a,this,[[0,7]])}));return function(){return a.apply(this,arguments)}}(),i]}a(250);var Z=$.object().shape({content:$.string().required().min(10),rating:$.number().required().moreThan(0)}),ee={data:{content:"",rating:0},status:!1,message:""},te=function(e){var t=n.useContext(u),a=(t.signInStatus,t.signInDispatch,n.useContext(p)),r=(a.modalStatus,a.modalDispatch,K(ee)),s=Object(o.a)(r,3),i=(s[0],s[1],s[2]),m=(n.useRef(),Q({content:"",rating:0})),d=Object(o.a)(m,3),f=d[0],b=d[1],g=d[2],h=X(f,Z),v=Object(o.a)(h,3),N=v[0],x=v[1],w=v[2],k=function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i("".concat(E,"/user"),{body:JSON.stringify(Object(H.a)({},f,{action:"signIn"}))});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x();case 3:e.sent&&k();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return n.createElement("div",{className:"modal-container"},n.createElement("div",{className:"review-container mx-auto bg-white p-1"},n.createElement("div",null,"Review as ",e.role),n.createElement("div",{className:"d-flex flex-column flex-md-row justify-content-between"},n.createElement("textarea",{name:"content",className:"form-control",cols:3,rows:3,value:f.content,onChange:b}),n.createElement("div",{className:"d-flex flex-column justify-content-between p-1"},n.createElement("div",{className:"w-50 d-flex flex-row-reverse justify-content-end"},n.createElement("input",{type:"radio",id:"rating-input5",name:"rating",className:"rating-input",value:5,onChange:b}),n.createElement("label",{htmlFor:"rating-input5",className:"rating-star"},"\u2605"),n.createElement("input",{type:"radio",id:"rating-input4",name:"rating",className:"rating-input",value:4,onChange:b}),n.createElement("label",{htmlFor:"rating-input4",className:"rating-star"},"\u2605"),n.createElement("input",{type:"radio",id:"rating-input3",name:"rating",className:"rating-input",value:3,onChange:b}),n.createElement("label",{htmlFor:"rating-input3",className:"rating-star"},"\u2605"),n.createElement("input",{type:"radio",id:"rating-input2",name:"rating",className:"rating-input",value:2,onChange:b}),n.createElement("label",{htmlFor:"rating-input2",className:"rating-star"},"\u2605"),n.createElement("input",{type:"radio",id:"rating-input1",name:"rating",className:"rating-input",value:1,onChange:b}),n.createElement("label",{htmlFor:"rating-input1",className:"rating-star"},"\u2605")),n.createElement("div",null,"Rating ",f.rating),n.createElement("div",{className:"d-flex justify-content-between"},n.createElement("button",{className:"btn btn-sm btn-primary",onClick:y},"Submit"),n.createElement("button",{className:"btn btn-sm ml-1 btn-danger"},"Cancel")))),N.error&&n.createElement(T,{message:N.message[0],confirm:function(){w({error:!1,message:""})},clear:function(){w({error:!1,message:""}),g(ee.data)}})))},ae=function(){return n.createElement("div",{className:"app-content"},n.createElement("div",{className:"tasks-container"},n.createElement(w.a,null,n.createElement(k.a,{exact:!0,path:"/",component:A}),n.createElement(k.a,{exact:!0,path:"/tasks",component:A}),n.createElement(k.a,{exact:!0,path:"/task/:id",component:U}),n.createElement(G,{exact:!0,path:"/mytasks",component:z}),n.createElement(k.a,{exact:!0,path:"/review",component:te}))))},ne=function(){return n.createElement(i.a,null,n.createElement(n.Fragment,null,n.createElement(x,null),n.createElement(ae,null)))},re=(a(251),$.object().shape({what:$.string().required().min(6),price:$.number().required().moreThan(2,"pay more than $2 please")})),se={price:0,what:""},ce=function(e){var t=Q({price:e.price,what:e.what}),a=Object(o.a)(t,3),r=a[0],s=a[1],i=a[2],m=X(r,re),u=Object(o.a)(m,3),d=u[0],p=u[1],f=u[2],b=function(){var t=Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:e.handlePrice(r.price),e.handleWhat(r.what),e.handleStep(1);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return n.createElement("div",{className:"py-2"},n.createElement("div",{className:"progress"},n.createElement("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:"33%"},"aria-valuenow":33,"aria-valuemin":0,"aria-valuemax":100})),n.createElement("form",{action:"",className:"d-flex flex-column"},n.createElement("label",{htmlFor:"what",className:"small font-weight-bold mt-2"},"What do you need to buy?"),n.createElement("input",{type:"text",id:"what",name:"what",className:"p-0 form-control form-control-sm",value:r.what,onChange:s}),n.createElement("label",{htmlFor:"price",className:"small font-weight-bold mt-2"},"How much do you pay?"),n.createElement("input",{type:"number",min:"2",id:"price",name:"price",className:"small w-25 p-0 form-inline form-control form-control-sm",value:r.price,onChange:s}),n.createElement("button",{className:"btn btn-sm btn-success mt-2",type:"button",onClick:b},"Next")),d.error&&n.createElement(T,{message:d.message[0],confirm:function(){f({error:!1,message:""})},clear:function(){f({error:!1,message:""}),i(se)}}))},le=$.object().shape({when:$.string().required(),where:$.string().required()}),oe={where:"",when:""},ie=function(e){var t=Q({when:e.when,where:e.where}),a=Object(o.a)(t,3),r=a[0],s=a[1],i=a[2],m=X(r,le),u=Object(o.a)(m,3),d=u[0],p=u[1],f=u[2],b=function(){var t=Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:e.handleWhen(r.when),e.handleWhere(r.where),e.handleStep(2);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return n.createElement("div",null,n.createElement("div",{className:"progress"},n.createElement("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:"66%"},"aria-valuenow":66,"aria-valuemin":0,"aria-valuemax":100})),n.createElement("form",{action:"",className:"px-3 d-flex flex-column"},n.createElement("label",{htmlFor:"when",className:"small font-weight-bold mt-2"},"When do you need it?"),n.createElement("input",{type:"datetime-local",id:"when",name:"when",className:"p-0 form-control form-control-sm",value:r.when,onChange:s}),n.createElement("label",{htmlFor:"where",className:"small font-weight-bold mt-2"},"Where will it be send?"),n.createElement("input",{type:"text",id:"where",name:"where",className:"p-0 form-control form-control-sm",value:r.where,onChange:s}),n.createElement("small",{className:"text-muted"},"suggest surburb only"),n.createElement("div",{className:"d-flex mt-2 justify-content-around"},n.createElement("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:function(){e.handleStep(0)}},"Back"),n.createElement("button",{className:"btn btn-sm btn-success",type:"button",onClick:b},"Next"))),d.error&&n.createElement(T,{message:d.message[0],confirm:function(){f({error:!1,message:""})},clear:function(){f({error:!1,message:""}),i(oe)}}))},me={data:[],status:!1,message:""},ue=function(e){var t=n.useContext(u).signInStatus,a=n.useContext(p),r=(a.modalStatus,a.modalDispatch),s=K(me),i=Object(o.a)(s,3),m=i[0],d=i[1],b=i[2],g=function(){var a=Object(l.a)(c.a.mark(function a(n){var r;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),r=Object(H.a)({posterId:t.userId,poster:t.username},e.task),b("".concat(E,"/task"),{body:JSON.stringify(r)});case 3:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),h=function(){d(),r(f("postATask"))};return n.createElement("div",null,n.createElement("div",{className:"progress"},n.createElement("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:"100%"},"aria-valuenow":100,"aria-valuemin":0,"aria-valuemax":100})),n.createElement("div",null,n.createElement("ul",{className:"list-group"},n.createElement("li",{className:"list-group-item small "},n.createElement("span",{className:"font-weight-bold"},"What")," ",e.task.what),n.createElement("li",{className:"list-group-item small "},n.createElement("span",{className:"font-weight-bold"},"Price")," ",e.task.price),n.createElement("li",{className:"list-group-item small "},n.createElement("span",{className:"font-weight-bold"},"Where")," ",e.task.where),n.createElement("li",{className:"list-group-item small "},n.createElement("span",{className:"font-weight-bold"},"When")," ",e.task.when))),n.createElement("div",{className:"d-flex mt-2 justify-content-around"},n.createElement("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:function(){e.handleStep(1)}},"Back"),n.createElement("button",{className:"btn btn-sm btn-success ",type:"submit",onClick:g},"Post")),m.status&&n.createElement(T,{message:m.message,confirm:h,clear:h}))},de=function(){var e=n.useContext(p),t=(e.modalStatus,e.modalDispatch),a=n.useState(""),r=Object(o.a)(a,2),s=r[0],c=r[1],l=n.useState(0),i=Object(o.a)(l,2),m=i[0],u=i[1],d=n.useState(""),b=Object(o.a)(d,2),g=b[0],h=b[1],E=n.useState(""),v=Object(o.a)(E,2),N=v[0],x=v[1],w=n.useState(0),k=Object(o.a)(w,2),y=k[0],j=k[1],O=n.useState(!1),S=Object(o.a)(O,2),C=S[0],I=S[1],T={what:s,when:N,where:g,price:m};return n.createElement("div",{className:"post-content mx-auto bg-white p-2"},n.createElement("div",{className:"d-flex align-items-center justify-content-between font-weight-bold"},0===y&&n.createElement("span",{className:"text-center flex-grow-1"},"What and How Much"),1===y&&n.createElement("span",{className:"text-center flex-grow-1"},"When and Where"),2===y&&n.createElement("span",{className:"text-center flex-grow-1"},"Check and Post!"),n.createElement("a",{className:"h2",onClick:function(e){e.preventDefault(),I(!0)}},"\xd7")),0===y&&n.createElement(ce,{what:s,price:m,handleStep:function(e){j(e)},handleWhat:function(e){c(e)},handlePrice:function(e){u(e)}}),1===y&&n.createElement(ie,{when:N,where:g,handleStep:function(e){j(e)},handleWhen:function(e){x(e)},handleWhere:function(e){h(e)}}),2===y&&n.createElement(ue,{task:T,handleStep:function(e){j(e)}}),C&&n.createElement("div",{className:"task-alert-container small"},n.createElement("div",{className:"task-alert-content bg-white text-center py-2"},n.createElement("h4",null,"Sorry to see you leave"),n.createElement("p",null,"Are you sure? You almost done !"),n.createElement("div",{className:"d-flex justify-content-around"},n.createElement("button",{className:"btn btn-primary btn-sm text-center text-white",onClick:function(){I(!1)}},"Continue Task"),n.createElement("button",{className:"btn btn-danger btn-sm text-center text-white",onClick:function(){t(f("postATask"))}},"Cancel Task")))))},pe=function(e){return n.createElement("div",{className:"form-group mb-1"},n.createElement("label",{className:"m-0 p-0"},e.title),n.createElement("input",{className:"p-0 form-control form-control-".concat(e.size),name:e.content,type:e.type,id:e.content,value:e.input,onChange:function(t){e.change(t)}}),n.createElement("small",null,e.children))},fe=$.object().shape({username:$.string().required().min(6),password:$.string().required().min(6)}),be={data:{username:"",userId:""},status:!1,message:""},ge=function(e){var t=n.useContext(u),a=(t.signInStatus,t.signInDispatch),r=n.useContext(p),s=(r.modalStatus,r.modalDispatch),i=K(be),m=Object(o.a)(i,3),d=m[0],h=m[1],v=m[2],N=Q({username:"",password:""}),x=Object(o.a)(N,3),w=x[0],k=x[1],y=x[2],j=X(w,fe),O=Object(o.a)(j,3),S=O[0],C=O[1],I=O[2],D=function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v("".concat(E,"/user"),{body:JSON.stringify(Object(H.a)({},w,{action:"signIn"}))});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),M=function(){var t=Object(l.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,C();case 3:t.sent&&("signIn"===e.target?D():v("".concat(E,"/user"),{body:JSON.stringify(Object(H.a)({},w,{action:"signUp"}))}));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),P=function(){d.data&&(a(g(d.data.username,d.data.userId)),s(f(e.target))),h(),y({username:"",password:""})};return n.createElement("div",{className:"post-content  mx-auto bg-white px-3 d-flex flex-column justify-content-around"},n.createElement("div",{className:""},n.createElement("h5",{className:"text-center m-0 py-1"},e.title),n.createElement("form",{action:""},n.createElement(pe,{input:w.username,change:k,size:"sm",content:"username",type:"text",title:"Username"},"username at least 6"),n.createElement(pe,{input:w.password,change:k,size:"sm",content:"password",type:"password",title:"Password"},"password at least 6"),n.createElement("div",{className:"d-flex justify-content-between p-1"},n.createElement("button",{className:"btn btn-sm btn-primary",type:"submit",onClick:M},"Submit"),n.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:function(){s(f())}},"Cancel"))),n.createElement("hr",{className:"m-0"}),n.createElement("div",{className:"d-flex justify-content-between align-items-center py-1"},n.createElement("small",null,"signIn"===e.target?"Don't have an account?":"Already have an account"),n.createElement(b,{target:"signIn"===e.target?"signUp":"signIn"},"signIn"===e.target?"Sign Up":"Sign In")),d.status&&n.createElement(T,{message:d.message,confirm:P,clear:P}),S.error&&n.createElement(T,{message:S.message[0],confirm:function(){I({error:!1,message:""})},clear:function(){I({error:!1,message:""}),y({username:"",password:""})}})))},he=function(){var e=n.useContext(p),t=e.modalStatus;e.modalDispatch;return n.createElement(n.Fragment,null,"postATask"===t.modal&&n.createElement(de,null),"signIn"===t.modal&&n.createElement(ge,{title:"Sign In",target:"signIn"}),"signUp"===t.modal&&n.createElement(ge,{title:"Sign Up",target:"signUp"}))},Ee=function(){return n.createElement("div",{className:"modal-container"},n.createElement(he,null))},ve=function(e,t){switch(t.type){case"show":return{status:!0,modal:t.text};case"hide":return{status:!1,modal:""};default:throw new Error}},Ne=function(e,t){switch(t.type){case"signIn":return{isSignIn:!0,username:t.text,userId:t.id};case"signOut":return{isSignIn:!1,username:"",userId:""};default:throw new Error}},xe=function(e,t){switch(t.type){case"start":return!0;case"end":return!1;default:throw new Error}},we=function(){var e=n.useReducer(xe,!1),t=Object(o.a)(e,2),a=t[0],r=t[1],s=n.useReducer(ve,{status:!1,modal:""}),i=Object(o.a)(s,2),m=i[0],f=i[1],b=n.useReducer(Ne,{username:"",userId:"",isSignIn:!1}),h=Object(o.a)(b,2),v=h[0],N=h[1],x=function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/user"),{method:"post",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,t.ok&&N(g(a.data.username,a.data.userId));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return n.useEffect(function(){x()},[]),n.createElement(n.Fragment,null,n.createElement(p.Provider,{value:{modalStatus:m,modalDispatch:f}},n.createElement(u.Provider,{value:{signInStatus:v,signInDispatch:N}},n.createElement(d.Provider,{value:{update:a,updateDispatch:r}},n.createElement(ne,null),m.status&&n.createElement(Ee,null)))))};r.render(n.createElement(we,null),document.getElementById("root"))},28:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.abe697bb.chunk.js.map